CREATE MEMORY TABLE PUBLIC.ATLETA(
ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
DNI VARCHAR(255) NOT NULL,
NOMBRE VARCHAR(255) NOT NULL,
APELLIDO VARCHAR(255) NOT NULL,
EMAIL VARCHAR(255) NOT NULL,
SEXO VARCHAR(255),
FECHANACIMIENTO DATE,
CONSTRAINT UNQ_ATLETA_1 UNIQUE(DNI))

CREATE MEMORY TABLE PUBLIC.COMPETICION
(
ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
NAME VARCHAR(255) NOT NULL,
TIPO VARCHAR(255) NOT NULL,
KM INTEGER,
CUOTA DOUBLE,
FECHA DATE,
PLAZAS INTEGER,
INICIOINSCRIPCION DATE,
FININSCRIPCION DATE
);

CREATE TABLE INSCRIPCION
(
ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
FECHA DATE,
ESTADO varchar(20),
CATEGORIA varchar(20),
ATLETA_ID BIGINT,
COMPETICION_ID BIGINT,
FOREIGN KEY(atleta_id) references atleta(id),
FOREIGN KEY(competicion_id) references competicion(id)
);

CREATE MEMORY TABLE PUBLIC.CATEGORIA
(
ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
NAME VARCHAR(255) NOT NULL,
MINEDAD INTEGER,
MAXEDAD INTEGER
);

insert into Competicion (id, name, tipo,km,cuota,fecha,plazas,inicioinscripcion,fininscripcion)
values (1, 'Carrera Solidaria', 'Asfalto', 11, 1, '2019-12-12', 300, '2019-10-01','2019-11-15');

insert into Competicion (id, name, tipo,km,cuota,fecha,plazas,inicioinscripcion,fininscripcion)
values (2, 'Carrera Naranco', 'Montaña', 8, 1, '2020-01-28', 110, '2019-12-01','2019-11-01');


insert into Atleta (id,dni,nombre,apellido,email,sexo,fechanacimiento)
values (1,'74386412','Lucas','Rodriguez Salas','lucrosa','Masculino','1994-08-13');

