CREATE MEMORY TABLE PUBLIC.ATLETA(
ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
DNI VARCHAR(255) NOT NULL,
NOMBRE VARCHAR(255) NOT NULL,
APELLIDOS VARCHAR(255) NOT NULL,
EMAIL VARCHAR(255) NOT NULL,
SEXO VARCHAR(255),
FECHANACIMIENTO DATE,
CONSTRAINT UNQ_ATLETA_1 UNIQUE(DNI))

CREATE MEMORY TABLE PUBLIC.COMPETICION
(
ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
NOMBRE VARCHAR(255) NOT NULL,
TIPO VARCHAR(255) NOT NULL,
KM INTEGER,
FECHA DATE,
PLAZAS INTEGER
);

CREATE TABLE CATEGORIA
(
ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
COMPETICION_ID BIGINT,
NOMBRE varchar(20),
MINEDAD INTEGER,
MAXEDAD INTEGER,
FOREIGN KEY(competicion_id) references competicion(id)
);

CREATE TABLE PLAZO
(
ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
COMPETICION_ID BIGINT,
FECHAINICIO DATE,
FECHAFIN DATE,
CUOTA INTEGER,
FOREIGN KEY(competicion_id) references competicion(id)
);

CREATE TABLE INSCRIPCION
(
ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
FECHA DATE,
ESTADO varchar(20),
CATEGORIA_ID BIGINT,
FECHAMODIFICACION DATE,
TIEMPO DATE,
MEDIOPAGO varchar(20),
FECHAPAGO DATE,
CANTIDAD INTEGER,
ATLETA_ID BIGINT,
COMPETICION_ID BIGINT,
FOREIGN KEY(categoria_id) references categoria(id),
FOREIGN KEY(atleta_id) references atleta(id),
FOREIGN KEY(competicion_id) references competicion(id)
);



